<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <!--Load the Google chart AJAX API-->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <!--Load the Google chart AJAX API-->
    <!-- Chart.js scripts   -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>
</head>

<script type="text/javascript">

    // Load the Visualization API and the corechart package.
    google.charts.load('current', {'packages':['corechart','bar']});

    // Set a callback to run when the Google Visualization API is loaded.
    google.charts.setOnLoadCallback(drawChart1Pie);
    google.charts.setOnLoadCallback(drawChart2Pie);
    google.charts.setOnLoadCallback(drawChart4Col);

    // Callback that creates and populates a data table,
    // instantiates the pie chart, passes in the data and
    // draws it.
    function drawChart1Pie() {

      // Create the data table.
      var data = new google.visualization.DataTable();
      data.addColumn('string', 'Status');
      data.addColumn('number', '% of test cases');
      data.addRows([$testDataForChart1Pie
        ]);

      // Set chart options
      var options = {'title':'Test Cases',
                     'width':300,
                     'height':400,
                     'is3D':true,
                       colors: ['#457725', '#a0333a', '#ee9600', '#0073ad', '#964f8e']};


      // Instantiate and draw our chart, passing in some options.
      var chart = new google.visualization.PieChart(document.getElementById('chart_1_pie_div'));
      chart.draw(data, options);
    }

          function drawChart2Pie() {

      // Create the data table.
      var data = new google.visualization.DataTable();
      data.addColumn('string', 'Status by Module');
      data.addColumn('number', '% of test cases');
      data.addRows([$testDataForChart2Pie
        ]);

      // Set chart options
      var options = {'title':'Testcase by Module',
                     'width':300,
                     'height':400,
                     'is3D':true,
                       colors: ['#457725', '#a0333a', '#ee9600', '#0073ad', '#964f8e']};


      // Instantiate and draw our chart, passing in some options.
      var chart = new google.visualization.PieChart(document.getElementById('chart_2_pie_div'));
      chart.draw(data, options);
    }


    function drawChart4Col() {
      var data = google.visualization.arrayToDataTable([
        $testDataForChart4Col
      ]);

      var options = {

          'title': 'Module Wise',
          'subtitle': 'Test case run by modules',
          bar: {  groupWidth: '75%' },
          'colors': ['#0073ad', '#457725', '#a0333a',  '#ee9600', '#964f8e']

      };
var view = new google.visualization.DataView(data);
    view.setColumns([0, 1,
                     { calc: "stringify",
                       sourceColumn: 1,
                       type: "string",
                       role: "annotation" },
                     2,{ calc: "stringify",
                       sourceColumn: 2,
                       type: "string",
                       role: "annotation" },
                     3,{ calc: "stringify",
                       sourceColumn: 3,
                       type: "string",
                       role: "annotation" }
                     ]);

       var chart = new google.visualization.ColumnChart(document.getElementById("chart_4_col_div"));
    chart.draw(view, options);
      }
</script>


<body onload="scrollToTop()">
<div class='container'>
    <div class=' row'>
        <div class='col-md-1'>
            <img src='https://media.licdn.com/dms/image/D4D0BAQFu0_hF7-PqHQ/company-logo_200_200/0/1690793026085?e=2147483647&v=beta&t=uj6COGGcsSCBL0DOzMnb6Kk25IKgdS34r20F0b_JIj0'>
        </div>
        <div class='col-md-10'><h3 class='text-center text-success '>Test Automation Report</h3>
        </div>
        <div class='col-md-1'>
        </div>
    </div>


    <div class='section_summary row '>
        <div class='col-md-6 col-sm-6'>
            <div class="table-responsive">
                <table class='table  table-striped table-hover table-bordered'>
                    <tr>
                        <th>Customer Name</th>
                        <td>$customerName</td>
                    </tr>
                    <tr>
                        <th>Env</th>
                        <td>$env</td>
                    </tr>
                    <tr>
                        <th>Company Code</th>
                        <td>$companyCode</td>
                    </tr>
                    <tr>
                        <th>Url</th>
                        <td>$url</td>
                    </tr>
                    <tr>
                        <th>Username</th>
                        <td>$username</td>
                    </tr>
                    <tr>
                        <th>OS</th>
                        <td>$os</td>
                    </tr>

                </table>
            </div>
        </div>

        <div class='col-md-6  col-sm-6'>
            <table class='table  table-striped table-hover table-bordered'>

                <tr>
                    <th>Total Test cases</th>
                    <td>$total</td>
                </tr>
                <tr>
                    <th>Pass</th>
                    <td>$pass</td>
                </tr>
                <tr>
                    <th>Fail</th>
                    <td>$fail</td>
                </tr>
                <tr>
                    <th>Skip</th>
                    <td>$skipped</td>
                </tr>
                <tr>
                    <th>Execution</th>
                    <td>$doe</td>
                </tr>
                <tr>
                    <th>Executed By</th>
                    <td>CITPL QA Team</td>
                </tr>
            </table>
        </div>
    </div>
    <div class="row">
        <div>
            $img
        </div>
    </div>
    <div class="row">
        <div class="col-md-6 col-sm-6">
            <div id="chart_1_pie_div" class="graph"></div>
        </div>
        <div class="col-md-6 col-sm-6">
            <div id="chart_2_pie_div" class="graph"></div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12 col-sm-6">
            <div id="chart_4_col_div" class="graph"></div>
        </div>
    </div>


    <div class='section_details row'>
        <div class="table-responsive">
            <table class='table  table-striped table-hover table-bordered'>
                <tr>
                    <th class="text-center">L.No</th>
                    <th
                            class="text-center">Testcase Id
                    </th>
                    <th
                            class="text-center">Validation Type
                    </th>
                    <th
                            class="text-center">Testcase Name
                    </th>
                    <th
                            class="text-center">Testcase Desc
                    </th>
                    <th
                            class="text-center">Status
                    </th>
                    <th
                            class="text-center">Screenshot
                    </th>
                </tr>
                <tr>
                    <div>
                        <canvas class="myChart1" id="myChart1"></canvas>
                    </div>

                    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

                    <script>
                        const ctx = document.getElementById('myChart1');

                        new Chart(ctx, {
                          type: 'pie',
                          data: {
                            labels: ['Total', 'Pass', 'Fail'],
                            datasets: [{
                              label: 'Test cases by status',
                              data: $chart_1_data,
                              borderWidth: 1
                            }]
                          },
                          options: {
                            scales: {
                              y: {
                                beginAtZero: true
                              }
                            }
                          }
                        });
                    </script>
                </tr>
                <tr>
                    <tbody>
                    $test_case_row
                </tr>
                </tbody>
            </table>


        </div>
    </div>
</div>

</body>
</div>
</html>

<style>


    @media screen and (max-width: 767px){
    .graph {
        width: 100%;
        margin-bottom: 15px;
        overflow-y: hidden;
        -ms-overflow-style: -ms-autohiding-scrollbar;
    }
     body {
        border: none;
        }
    }

     body {
         border: solid 3px;
        margin: 25px;
        border-color: lightgrey;
        }

    .myChart1{
    width:30% !important;
    height:auto !important;
    }
</style>

<script type="text/javascript">

    function scrollToTop() {
    window.scrollTo(0, 0);
    document.body.scrollTop = 0; // For Safari
    document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
     $(window).scrollTop(0);
  }
</script>